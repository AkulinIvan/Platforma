
{%load static %}

{% load bootstrap4 %}
{% load render_table from django_tables2 %}
{% load django_tables2 %}

{% block css %}
	<link rel="stylesheet" href="{% static "deps/css/table.css" %}">
    <link rel="stylesheet" href="{% static 'django_tables2/themes/paleblue/css/screen.css' %}">
{% endblock  %}
{% block content %}
<div class='text-center py-4 px-2 bg-gray-200 font-semibold'>{{title}}</div>
{% comment %} <div class="table-responsive">
    {% comment %} {% render_table table %} 
{% empty %}
        <p class="py-2 px-2 w-full">В базе данных еще нет заявок...</p>  {% endcomment %}
</div>
    <table class="table table-bordered" data-resizable-columns-id="demo-table">
    <tr>
        <th data-resizable-column-id="id">Номер</th>
        <th data-resizable-column-id="Статус заявки">Статус заявки</th>
        <th data-resizable-column-id="Дата">Дата создания</th>
        <th data-resizable-column-id="Улица">Улица</th>
        <th data-resizable-column-id="Дом">Дом</th>
        <th data-resizable-column-id="Квартира">Квартира</th>
        <th data-resizable-column-id="Текст заявки">Текст заявки</th>
        <th data-resizable-column-id="Срок исполнения">Срок исполнения</th>
        <th data-resizable-column-id="ФИО заявителя">ФИО заявителя</th>
        <th data-resizable-column-id="Телефон">Телефон</th>
        <th data-resizable-column-id="Вид заявки">Вид заявки</th>
        <th data-resizable-column-id="Тип заявки">Тип заявки</th>
        <th data-resizable-column-id="Комментарий">Комментарий</th>
        <th data-resizable-column-id="Повторная">Повторная</th>
        <th data-resizable-column-id="Приоритет заявки">Приоритет заявки</th>
        <th data-resizable-column-id="Управляющая компания">Управляющая компания</th>
        <th data-resizable-column-id="Исполнитель">Исполнитель</th>
        <th data-resizable-column-id="Мастер">Мастер</th>
        <th data-resizable-column-id="СМС исполнителю">СМС исполнителю</th>
        <th data-resizable-column-id="СМС мастеру">СМС мастеру</th>
        <th data-resizable-column-id="Материал">Материал</th>
        <th data-resizable-column-id="Автор">Автор</th>
        
    </tr>
    <tr>	
        
        {% for c in content %}
        
            <div class="mt-6 flex justify-content-between">
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}"><a href={{c.get_absolute_url}}>{{ c.id }}</a></p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.get_status_display }}</p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.create_time }}</p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.street }}</p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.house }}</p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.flat }}</p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{c.text|truncatechars:35}}</p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.job_date }}</p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.fio }}</p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.phone }}</p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.view }}</p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.type }}</p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.comment }}</p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.povtornaya }}</p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.get_priority_display }}</p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.house.company }}</p></td>

                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{% for w in c.house.worker.all %}
                    <h6 class="mb-4 text-xl"> {{ w }} </h6>{% endfor %}</p></td>
                    
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.house.master }}</p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.sms_worker }}</p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.sms_master }}</p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.materials }}</p></td>
                <td><p class="py-2 px-2 w-full {% cycle 'bg-gray-100' '' %}">{{ c.user }} </p></td>
            </div>
    </tr> 
    </table>
    
        {% endfor %}

{% endblock  %}

